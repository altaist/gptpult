# üìã –°–≤–æ–¥–∫–∞: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Telegram –±–æ—Ç–∞ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

### üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **`app/Console/Commands/TelegramRunLocal.php`** - –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ long polling
2. **`app/Console/Commands/TelegramTest.php`** - –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –±–æ—Ç–∞
3. **`app/Console/Commands/TelegramDebug.php`** - –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏
4. **`scripts/telegram-local.sh`** - –£–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º
5. **`docs/TELEGRAM_LOCAL.md`** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
6. **`TELEGRAM_QUICKSTART.md`** - –ë—ã—Å—Ç—Ä–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É

### üõ†Ô∏è –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—É–∂–µ –±—ã–ª–∏):

- **`app/Http/Controllers/TelegramController.php`** - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook'–æ–≤
- **`app/Services/TelegramNotificationService.php`** - –°–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **`app/Console/Commands/TelegramStatus.php`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–æ—Ç–∞
- **`app/Console/Commands/SetTelegramWebhook.php`** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook
- **`config/telegram.php`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

```env
TELEGRAM_BOT_TOKEN=your_bot_token_from_botfather
TELEGRAM_BOT_USERNAME=your_bot_username
TELEGRAM_WEBHOOK_URL=https://yourdomain.com/telegram/webhook
```

### 2. –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (–æ–¥–∏–Ω —Ä–∞–∑)
chmod +x scripts/telegram-local.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ
./scripts/telegram-local.sh start
```

### 3. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `./scripts/telegram-local.sh start` | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ |
| `./scripts/telegram-local.sh test` | –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º |
| `./scripts/telegram-local.sh status` | –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞ |
| `./scripts/telegram-local.sh debug` | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| `./scripts/telegram-local.sh test-notify` | –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π |
| `./scripts/telegram-local.sh webhook` | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
php artisan telegram:test --create-test-user
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
```bash
php artisan telegram:test --user-id=1
```

### –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
```bash
php artisan telegram:debug
```

## üîÑ Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `.env` —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å: `./scripts/telegram-local.sh start`
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏: `./scripts/telegram-local.sh test-notify`

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `TELEGRAM_WEBHOOK_URL` –≤ `.env`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook: `./scripts/telegram-local.sh webhook`

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã—Ö –±–æ—Ç–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ Git
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

## üìä –û—Ç–ª–∏—á–∏—è —Ä–µ–∂–∏–º–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Long Polling (–ª–æ–∫–∞–ª—å–Ω—ã–π) | Webhook (–ø—Ä–æ–¥–∞–∫—à–µ–Ω) |
|----------|--------------------------|---------------------|
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü—Ä–æ—Å—Ç–∞—è | –¢—Ä–µ–±—É–µ—Ç HTTPS |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ù–∏–∂–µ | –í—ã—à–µ |
| –û—Ç–ª–∞–¥–∫–∞ | –£–¥–æ–±–Ω–∞—è | –°–ª–æ–∂–Ω–µ–µ |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ | –ü—Ä–æ–¥–∞–∫—à–µ–Ω |

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã artisan

```bash
# –í—Å–µ –∫–æ–º–∞–Ω–¥—ã telegram
php artisan list | grep telegram

# –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
php artisan telegram:run-local

# –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
php artisan telegram:run-local --test-mode

# –°—Ç–∞—Ç—É—Å
php artisan telegram:status

# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
php artisan telegram:debug

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
php artisan telegram:test
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω: `php artisan telegram:status`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É: `php artisan telegram:debug`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f storage/logs/laravel.log`

### –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `php artisan telegram:test --create-test-user`
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ: `php artisan telegram:test --user-id=1`

### –ï—Å–ª–∏ webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –£–¥–∞–ª–∏—Ç–µ webhook: `php artisan telegram:run-local` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
2. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–Ω–æ–≤–æ: `php artisan telegram:set-webhook`

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**: `TELEGRAM_QUICKSTART.md`
- **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/TELEGRAM_LOCAL.md`
- **–°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `README_TELEGRAM.md`

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è:
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ Telegram –±–æ—Ç–∞
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –û—Ç–ª–∞–¥–∫–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ –£–¥–æ–±–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π 